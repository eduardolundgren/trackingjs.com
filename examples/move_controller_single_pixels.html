
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>tracking.js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Change the way you interact with your browser">
    <meta name="author" content="Eduardo Lundgren">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le tracking.js -->
    <script src="../lib/trackingjs/src/tracking.js"></script>
    <script src="../lib/trackingjs/src/tracker/color.js"></script>
    <style>
        canvas {
            width: 500px;
            height: 313px;
            -moz-transform: scale(-1, 1);
            -o-transform: scale(-1, 1);
            -webkit-transform: scale(-1, 1);
            filter: FlipH;
            transform: scale(-1, 1);
        }
    </style>

  </head>

  <body class="preview" data-spy="scroll" data-target=".subnav" data-offset="50">

 <div class="navbar navbar-fixed-top">
   <div class="navbar-inner">
     <div class="container">
       <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </a>
       <a class="brand" href="/">tracking.js</a>
       <div class="nav-collapse" id="main-menu">
        <ul class="nav" id="main-menu-left">
          <li><a id="swatch-link" href="about.html">About</a></li>
          <li><a id="swatch-link" href="examples.html">Examples</a></li>
        </ul>
        <ul class="nav pull-right" id="main-menu-right">
          <li><a rel="tooltip" href="https://github.com/downloads/eduardolundgren/tracking.js/tracking.js-1.0.0-alpha.zip">Download now</a></li>
          <li><a rel="tooltip" target="_blank" href="https://github.com/eduardolundgren/tracking.js">Fork on Github <i class="icon-share-alt"></i></a></li>
        </ul></div>
     </div>
   </div>
 </div>

<div class="container">

<header class="jumbotron subhead" id="overview">
  <div class="row">
    <div class="span12">
      <h1>tracking.js</h1>
      <p class="lead">Change the way you interact with your browser</p>
      <div class="featuring">
        <p>Example<br>Single Controller</p>
        <div class="try-container"></div>
        <div class="video-container">
          <iframe src="http://player.vimeo.com/video/48443682?title=0&amp;byline=0&amp;portrait=0&amp;color=9F3FCF" width="500" height="313" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
        </div>
      </div>
      <div class="call2action">
        <a id="try" class="btn btn-inverse btn-large" style="width: 210px;" href="#">Try it now!</a>
        <a id="video" class="btn btn-info btn-large" href="#">See the video!</a>
      </div>
    </div>
  </div>
</header>

<section id="examples">

  <div class="page-header">
    <h2>Single Controller</h2>
  </div>

  <div class="row">

    <div class="span4">
      <h3>Usage</h3>
      <p>This example shows a color tracking of a single PS Move controller using <span style="color: magenta;">magenta</span> color.</p>
    </div>

    <div class="span8">
      <script src="https://gist.github.com/3909630.js?file=gistfile1.js"></script>
    </div>

  </div>

</section>

</div>

    <footer>
      <div class="footer-inner">
        <p>Developed by <a href="http://eduardolundgren.com/">Eduardo Lundgren</a></p>
        <p>Under <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a></p>
      </div>
    </footer>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>

    <script>

      $(document).ready(function() {

        var activeExample = false;

        $('#try').click(function(e) {

          if (!activeExample)
            runExample();

          $('.featuring .video-container').fadeOut();
          $('.featuring .try-container').fadeIn();
          e.preventDefault();

        });

        $('#video').click(function(e) {
          $('.featuring .try-container').fadeOut();
          $('.featuring .video-container').fadeIn();
          e.preventDefault();
        });

        function runExample() {

          activeExample = true;

          var videoCamera = new tracking.VideoCamera().hide().render().renderVideoCanvas(".try-container");

          var t1 = videoCamera.track(
              {
                  type: 'color',
                  color: 'magenta',
                  onFound: function(track) {
                      var pixels = track.pixels;

                      for (var i = 0, len = pixels.length; i < len; i += 2) {
                          videoCamera.canvas.context.fillStyle = "rgb(255,0,255)";
                          videoCamera.canvas.context.fillRect(pixels[i], pixels[i+1], 2, 2);
                      }

                      videoCamera.canvas.context.fillStyle = "rgb(0,0,0)";
                      videoCamera.canvas.context.fillRect(track.x, track.y, 5, 5);
                  },
                  onNotFound: function() {
                  }
              }
          );

        }

      });
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-8055185-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </body>
</html>
